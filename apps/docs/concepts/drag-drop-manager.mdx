---
title: 'DragDropManager'
description: 'Orchestrate drag and drop interactions between elements.'
icon: 'sitemap'
---

## Usage

The `DragDropManager` is the central orchestrator of the drag and drop system. It coordinates interactions between [draggable](/concepts/draggable) and [droppable](/concepts/droppable) elements:

```js
import {DragDropManager} from '@dnd-kit/dom';

// Create a manager instance
const manager = new DragDropManager();

// Create draggable and droppable elements
const draggable = new Draggable({
  id: 'draggable-1',
  element: draggableElement,
}, manager);

const droppable = new Droppable({
  id: 'droppable-1',
  element: droppableElement,
}, manager);
```

## Configuration

The manager comes with sensible defaults, but you can customize its behavior:

```js
import {
  DragDropManager,
  KeyboardSensor,
  PointerSensor,
} from '@dnd-kit/dom';

const manager = new DragDropManager({
  // Sensors detect drag interactions
  sensors: [
    PointerSensor,  // Handles mouse and touch
    KeyboardSensor, // Enables keyboard navigation
  ],

  // Plugins extend functionality
  plugins: [
    AutoScroller,   // Automatic scrolling during drag
    Accessibility,  // ARIA attributes management
  ],

  // Modifiers customize drag behavior
  modifiers: [
    restrictToWindow, // Keeps dragged items within window bounds
  ],
});
```

## Default Configuration

The manager includes these defaults out of the box:

### Sensors
- `PointerSensor`: Handles mouse and touch interactions
  - Mouse: Activates immediately on drag handle
  - Touch: 250ms delay with 5px movement tolerance
  - Other pointers: 200ms delay with 5px distance threshold

- `KeyboardSensor`: Enables keyboard navigation with arrow keys

### Plugins
- `Accessibility`: Manages ARIA attributes and announcements for screen readers
- `AutoScroller`: Scrolls containers when dragging near edges
- `Cursor`: Updates cursor appearance during drag
- `Feedback`: Controls visual feedback during drag
- `PreventSelection`: Prevents text selection while dragging
- `ScrollListener`: Monitors scroll events during drag
- `Scroller`: Handles programmatic scrolling

## Events

The manager's `monitor` lets you observe drag and drop events:

```js
// Observe drag start
manager.monitor.addEventListener('beforedragstart', (event) => {
  // Optionally prevent dragging
  if (shouldPreventDrag(event.operation.source)) {
    event.preventDefault();
  }
});

// Track movement
manager.monitor.addEventListener('dragmove', (event) => {
  const {source, position} = event.operation;
  console.log(`Dragging ${source.id} to ${position.current}`);
});

// Detect collisions
manager.monitor.addEventListener('collision', (event) => {
  const [firstCollision] = event.collisions;
  if (firstCollision) {
    console.log(`Colliding with ${firstCollision.id}`);
  }
});

// Listen for when dragging ends
manager.monitor.addEventListener('dragend', (event) => {
  const {source, target, canceled} = event.operation;
  if (!canceled && target) {
    console.log(`Dropped ${source.id} onto ${target.id}`);
  }
});
```

### Available Events

| Event | Description | Preventable | Data |
|-------|-------------|-------------|------|
| `beforedragstart` | Fires before drag begins | Yes | `operation` |
| `dragstart` | Fires when drag starts | No | `operation`, `nativeEvent` |
| `dragmove` | Fires during movement | Yes | `operation`, `to`, `by`, `nativeEvent` |
| `dragover` | Fires when over a droppable | Yes | `operation` |
| `collision` | Fires on droppable collision | Yes | `collisions` |
| `dragend` | Fires when drag ends | No | `operation`, `canceled`, `nativeEvent` |

## Registration

The manager's `registry` tracks draggable and droppable elements:

```js
// Manual registration when needed
const cleanup = manager.registry.register(draggable);

// Cleanup when done
cleanup();
// Or unregister directly
manager.registry.unregister(draggable);
```

Elements auto-register when created with a manager reference:

```js
// Auto-registers with manager
const draggable = new Draggable({
  id: 'draggable-1',
  element,
}, manager);

// Auto-registers with manager
const droppable = new Droppable({
  id: 'droppable-1',
  element,
}, manager);

// Opt out of auto-registration
const draggable = new Draggable({
  id: 'draggable-1',
  element,
  register: false
}, manager);
```

## API Reference

### Arguments

The `DragDropManager` constructor accepts the following configuration:

<ParamField path="sensors" type="Sensors[]">
  An array of [sensors](/extend/sensors) to detect drag interactions. Defaults to `PointerSensor` and `KeyboardSensor`.
</ParamField>

<ParamField path="plugins" type="Plugin[]">
  An array of [plugins](/extend/plugins) to extend functionality. Several plugins are included by default.
</ParamField>

<ParamField path="modifiers" type="Modifier[]">
  An array of [modifiers](/extend/modifiers) to customize drag behavior. Empty by default.
</ParamField>

### Properties

The manager instance provides these key properties:

- `registry`: Tracks active elements and extensions
  - `draggables`: Map of registered draggable elements
  - `droppables`: Map of registered droppable elements
  - `plugins`: Registry of active plugins
  - `sensors`: Registry of active sensors
  - `modifiers`: Registry of active modifiers

- `dragOperation`: Current drag operation state
  - `source`: Currently dragged element
  - `target`: Current drop target
  - `position`: Current drag coordinates
  - `status`: Current operation status
  - `canceled`: Whether operation was canceled

- `monitor`: Event system
  - `addEventListener`: Add event listener
  - `removeEventListener`: Remove listener

- `renderer`: Integration with asynchronous renderers such as React.

### Methods

- `destroy()`: Clean up the manager and all registered elements
  - Unregisters all draggables and droppables
  - Cleans up all plugins, sensors, and modifiers
  - Removes all event listeners

### Lifecycle

1. **Initialization**
   - Manager created
   - Default plugins and sensors registered
   - Custom configuration applied

2. **Registration**
   - Draggable and droppable elements register
   - Plugins initialize
   - Event listeners bound

3. **Operation**
   - Drag operations tracked
   - Events dispatched
   - Collisions detected

4. **Cleanup**
   - Elements unregister
   - Event listeners removed
   - Resources released
